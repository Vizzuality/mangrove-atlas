import DocsLayout from 'layouts/docs'

# Install

To install Yarn, enable `corepack` first:

```bash
corepack enable
```

and install the version indicated in the [package.json](https://github.com/Vizzuality/front-end-scaffold/blob/b1640d4743f5299701e7b8c22bcc332726ec57b4/package.json#L116):

```bash
yarn
```

This process will install the Yarn binary and the dependencies of the projects listed in your `package.json`.

*Note: these instructions assume the project uses Node >= 16, for other scenarios check [Yarn documentation](https://yarnpkg.com/getting-started/install)*

## 1. ENVIRONMENT VARIABLES

Create a `.env.local` at the root of the app and define the main env variables:

| Variable name           | Description                                                             |  Default value                      |
|-------------------------|-------------------------------------------------------------------------|------------------------------------:|
| NEXTAUTH_SECRET         |  Key used to encrypt the NextAuth.js JWT, and to hash email verification tokens. Do not forget to add a secret. NextAuth can handle without it in development mode,  but it won't in production! [https://next-auth.js.org/configuration/options#secret](https://next-auth.js.org/configuration/options#secret) |  |
| NEXTAUTH_URL            |  Needed by the next-auth library for [handling auth requests and callbacks](https://next-auth.js.org/configuration/options#nextauth_url). Set the environment variable to the canonical URL of your site. Not needed in Vercel deploys.   |  |
| NEXT_PUBLIC_API_URL  | URL of the API. | http://localhost:3000   |
| STORYBOOK_API_URL  | URL of the API for storybook. |    |
| NEXT_PUBLIC_MAPBOX_API_TOKEN  | Mapbox token. |    |
| STORYBOOK_MAPBOX_API_TOKEN  | Mapbox token for storybook. |    |
| NEXT_PUBLIC_GA_TRACKING_ID  | Google Analytics tracking ID. If you're working with an Google Analytics 4 property, you have a Measurement ID instead of a Tracking ID. |    |


## 2. INSTALL DEPENDENCIES

First, run the development server:

```bash
yarn dev
```

Open [http://localhost:3000](http://localhost:3000) with your browser to see the result.

You can start editing the page by modifying `pages/index.tsx`. The page auto-updates as you edit the file.

[API routes](https://nextjs.org/docs/api-routes/introduction) can be accessed on [http://localhost:3000/api/hello](http://localhost:3000/api/hello). This endpoint can be edited in `pages/api/hello.js`.

The `pages/api` directory is mapped to `/api/*`. Files in this directory are treated as [API routes](https://nextjs.org/docs/api-routes/introduction) instead of React pages.

## 3. DEVELOPMENT

Once you installed all the dependencies and packages you will be able to run these commands available in `package.json` by using `yarn dev`, `yarn build` or `yarn start`

```json
// package.json
"scripts": {
  "dev": "next dev",
  "build": "next build",
  "start": "next start"
}
```

These scripts refer to the different stages of developing an application:

- `dev` - Runs next dev which starts Next.js in development mode
- `build` - Runs next build which builds the application for production usage
- `start` - Runs next start which starts a Next.js production server

export default ({ children }) => <DocsLayout>{children}</DocsLayout>